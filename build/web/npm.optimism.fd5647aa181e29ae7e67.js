(self.webpackChunkpbm=self.webpackChunkpbm||[]).push([[111],{507:(e,t,n)=>{"use strict";n.d(t,{Gl:()=>r.B,dP:()=>V,re:()=>M});var r=n(657),i=n(8751);function s(){}var u=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=s),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getEntry(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),l=new i.g7;function o(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var a=[];function h(e,t){if(!e)throw new Error(t||"assertion failure")}function c(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var p=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!f(this))return this.value[0]},e.prototype.recompute=function(e){return h(!this.recomputing,"already recomputing"),t=this,(n=l.getValue())&&(t.parents.add(n),n.childValues.has(t)||n.childValues.set(t,[]),f(t)?w(n,t):g(n,t)),f(this)?function(e,t){return m(e),l.withValue(e,d,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{o(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){e.dirty=!1,f(e)||v(e)}(e),c(e.value)}(this,e):c(this.value);var t,n},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,y(this),m(this),o(this))},e.prototype.dispose=function(){var e=this;m(this),o(this),this.parents.forEach((function(t){t.setDirty(),k(t,e)}))},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=a.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(this.deps.forEach((function(t){return t.delete(e)})),this.deps.clear(),a.push(this.deps),this.deps=null)},e.count=0,e}();function d(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function f(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function y(e){e.parents.forEach((function(t){return w(t,e)}))}function v(e){e.parents.forEach((function(t){return g(t,e)}))}function w(e,t){if(h(e.childValues.has(t)),h(f(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=a.pop()||new Set;e.dirtyChildren.add(t),y(e)}function g(e,t){h(e.childValues.has(t)),h(!f(t));var n,r,i,s=e.childValues.get(t);0===s.length?e.childValues.set(t,t.value.slice(0)):(n=s,r=t.value,(i=n.length)>0&&i===r.length&&n[i-1]===r[i-1]||e.setDirty()),b(e,t),f(e)||v(e)}function b(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(a.length<100&&a.push(n),e.dirtyChildren=null))}function m(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){k(e,n)})),e.forgetDeps(),h(null===e.dirtyChildren)}function k(e,t){t.parents.delete(e),e.childValues.delete(t),b(e,t)}function V(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=l.getValue();if(r){var i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"==typeof n&&(o(i),i.unsubscribe=n(e))}}return r.dirty=function(e){var n=t.get(e);n&&(n.forEach((function(e){return e.setDirty()})),t.delete(e),o(n))},r}var C=new r.B("function"==typeof WeakMap);function E(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return C.lookupArray(e)}var D=new Set;function M(e,t){void 0===t&&(t=Object.create(null));var n=new u(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.keyArgs||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},i=t.makeCacheKey||E;function s(){var s=i.apply(null,r.apply(null,arguments));if(void 0===s)return e.apply(null,arguments);var u=n.get(s);u||(n.set(s,u=new p(e)),u.subscribe=t.subscribe);var o=u.recompute(Array.prototype.slice.call(arguments));return n.set(s,u),D.add(n),l.hasValue()||(D.forEach((function(e){return e.clean()})),D.clear()),o}function o(){var e=i.apply(null,arguments);if(void 0!==e)return n.get(e)}return s.dirty=function(){var e=o.apply(null,arguments);e&&e.setDirty()},s.peek=function(){var e=o.apply(null,arguments);if(e)return e.peek()},s.forget=function(){var e=i.apply(null,arguments);return void 0!==e&&n.delete(e)},s}}}]);
//# sourceMappingURL=npm.optimism.fd5647aa181e29ae7e67.js.map