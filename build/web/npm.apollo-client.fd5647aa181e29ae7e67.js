/*! For license information please see npm.apollo-client.fd5647aa181e29ae7e67.js.LICENSE.txt */
(self.webpackChunkpbm=self.webpackChunkpbm||[]).push([[602],{817:(t,e,r)=>{"use strict";r.d(e,{ZP:()=>L});var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function n(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var i=function(){return(i=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function s(t,e,r,o){return new(r||(r=Promise))((function(n,i){function s(t){try{u(o.next(t))}catch(t){i(t)}}function a(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))}function a(t,e){var r,o,n,i,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){s.label=i[1];break}if(6===i[0]&&s.label<n[1]){s.label=n[1],n=i;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(i);break}n[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var u,c=r(7637),l=r(2152),h=r(6097),p=r(9904),f=r(7121),y=r(1467),d=r(285);function v(t){return t<7}!function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"}(u||(u={}));var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype[f.Z]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(p.Z);function m(t){return Array.isArray(t)&&t.length>0}var Q,g=function(t){function e(r){var o,n,i=r.graphQLErrors,s=r.networkError,a=r.errorMessage,u=r.extraInfo,c=t.call(this,a)||this;return c.graphQLErrors=i||[],c.networkError=s||null,c.message=a||(n="",m((o=c).graphQLErrors)&&o.graphQLErrors.forEach((function(t){var e=t?t.message:"Error message not found.";n+="GraphQL error: "+e+"\n"})),o.networkError&&(n+="Network error: "+o.networkError.message+"\n"),n=n.replace(/\n$/,"")),c.extraInfo=u,c.__proto__=e.prototype,c}return n(e,t),e}(Error);!function(t){t[t.normal=1]="normal",t[t.refetch=2]="refetch",t[t.poll=3]="poll"}(Q||(Q={}));var w=function(t){function e(e){var r=e.queryManager,o=e.options,n=e.shouldSubscribe,i=void 0===n||n,s=t.call(this,(function(t){return s.onSubscribe(t)}))||this;s.observers=new Set,s.subscriptions=new Set,s.isTornDown=!1,s.options=o,s.variables=o.variables||{},s.queryId=r.generateQueryId(),s.shouldSubscribe=i;var a=(0,c.$H)(o.query);return s.queryName=a&&a.name&&a.name.value,s.queryManager=r,s}return n(e,t),e.prototype.result=function(){var t=this;return new Promise((function(e,r){var o={next:function(r){e(r),t.observers.delete(o),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout((function(){n.unsubscribe()}),0)},error:r},n=t.subscribe(o)}))},e.prototype.currentResult=function(){var t=this.getCurrentResult();return void 0===t.data&&(t.data={}),t},e.prototype.getCurrentResult=function(){if(this.isTornDown){var t=this.lastResult;return{data:!this.lastError&&t&&t.data||void 0,error:this.lastError,loading:!1,networkStatus:u.error}}var e,r,o,n=this.queryManager.getCurrentQueryResult(this),s=n.data,a=n.partial,c=this.queryManager.queryStore.get(this.queryId),l=this.options.fetchPolicy,h="network-only"===l||"no-cache"===l;if(c){var p=c.networkStatus;if(r=c,void 0===(o=this.options.errorPolicy)&&(o="none"),r&&(r.networkError||"none"===o&&m(r.graphQLErrors)))return{data:void 0,loading:!1,networkStatus:p,error:new g({graphQLErrors:c.graphQLErrors,networkError:c.networkError})};c.variables&&(this.options.variables=i(i({},this.options.variables),c.variables),this.variables=this.options.variables),e={data:s,loading:v(p),networkStatus:p},c.graphQLErrors&&"all"===this.options.errorPolicy&&(e.errors=c.graphQLErrors)}else{var f=h||a&&"cache-only"!==l;e={data:s,loading:f,networkStatus:f?u.loading:u.ready}}return a||this.updateLastResult(i(i({},e),{stale:!1})),i(i({},e),{partial:a})},e.prototype.isDifferentFromLastResult=function(t){var e=this.lastResultSnapshot;return!(e&&t&&e.networkStatus===t.networkStatus&&e.stale===t.stale&&(0,l.D)(e.data,t.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var t=this.queryManager.queryStore.get(this.queryId);t&&(t.networkError=null,t.graphQLErrors=[])},e.prototype.refetch=function(t){var e=this.options.fetchPolicy;return"cache-only"===e?Promise.reject(new y.ej(1)):("no-cache"!==e&&"cache-and-network"!==e&&(e="network-only"),(0,l.D)(this.variables,t)||(this.variables=i(i({},this.variables),t)),(0,l.D)(this.options.variables,this.variables)||(this.options.variables=i(i({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,i(i({},this.options),{fetchPolicy:e}),Q.refetch))},e.prototype.fetchMore=function(t){var e=this;(0,y.kG)(t.updateQuery,2);var r=i(i({},t.query?t:i(i(i({},this.options),t),{variables:i(i({},this.variables),t.variables)})),{fetchPolicy:"network-only"}),o=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(o,r,Q.normal,this.queryId).then((function(n){return e.updateQuery((function(e){return t.updateQuery(e,{fetchMoreResult:n.data,variables:r.variables})})),e.queryManager.stopQuery(o),n}),(function(t){throw e.queryManager.stopQuery(o),t}))},e.prototype.subscribeToMore=function(t){var e=this,r=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(r){var o=t.updateQuery;o&&e.updateQuery((function(t,e){var n=e.variables;return o(t,{subscriptionData:r,variables:n})}))},error:function(e){t.onError&&t.onError(e)}});return this.subscriptions.add(r),function(){e.subscriptions.delete(r)&&r.unsubscribe()}},e.prototype.setOptions=function(t){var e=this.options.fetchPolicy;this.options=i(i({},this.options),t),t.pollInterval?this.startPolling(t.pollInterval):0===t.pollInterval&&this.stopPolling();var r=t.fetchPolicy;return this.setVariables(this.options.variables,e!==r&&("cache-only"===e||"standby"===e||"network-only"===r),t.fetchResults)},e.prototype.setVariables=function(t,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!0),this.isTornDown=!1,t=t||this.variables,!e&&(0,l.D)(t,this.variables)?this.observers.size&&r?this.result():Promise.resolve():(this.variables=this.options.variables=t,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(t){var e=this.queryManager,r=e.getQueryWithPreviousResult(this.queryId),o=r.previousResult,n=r.variables,i=r.document,s=(0,c.XY)((function(){return t(o,{variables:n})}));s&&(e.dataStore.markUpdateQueryResult(i,n,s),e.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(t){q(this),this.options.pollInterval=t,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(t){var e=this.lastResult;return this.lastResult=t,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?t:(0,c.Xh)(t),e},e.prototype.onSubscribe=function(t){var e=this;try{var r=t._subscription._observer;r&&!r.error&&(r.error=S)}catch(t){}var o=!this.observers.size;return this.observers.add(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),o&&this.setUpQuery(),function(){e.observers.delete(t)&&!e.observers.size&&e.tearDownQuery()}},e.prototype.setUpQuery=function(){var t=this,e=this.queryManager,r=this.queryId;this.shouldSubscribe&&e.addObservableQuery(r,this),this.options.pollInterval&&(q(this),e.startPollingQuery(this.options,r));var o=function(e){t.updateLastResult(i(i({},t.lastResult),{errors:e.graphQLErrors,networkStatus:u.error,loading:!1})),k(t.observers,"error",t.lastError=e)};e.observeQuery(r,this.options,{next:function(r){if(t.lastError||t.isDifferentFromLastResult(r)){var o=t.updateLastResult(r),n=t.options,i=n.query,s=n.variables,a=n.fetchPolicy;e.transform(i).hasClientExports?e.getLocalState().addExportedVariables(i,s).then((function(n){var s=t.variables;t.variables=t.options.variables=n,!r.loading&&o&&"cache-only"!==a&&e.transform(i).serverQuery&&!(0,l.D)(s,n)?t.refetch():k(t.observers,"next",r)})):k(t.observers,"next",r)}},error:o}).catch(o)},e.prototype.tearDownQuery=function(){var t=this.queryManager;this.isTornDown=!0,t.stopPollingQuery(this.queryId),this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.subscriptions.clear(),t.removeObservableQuery(this.queryId),t.stopQuery(this.queryId),this.observers.clear()},e}(b);function S(t){}function k(t,e,r){var o=[];t.forEach((function(t){return t[e]&&o.push(t)})),o.forEach((function(t){return t[e](r)}))}function q(t){var e=t.options.fetchPolicy;(0,y.kG)("cache-first"!==e&&"cache-only"!==e,3)}var R=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(t){return this.store[t]},t.prototype.initMutation=function(t,e,r){this.store[t]={mutation:e,variables:r||{},loading:!0,error:null}},t.prototype.markMutationError=function(t,e){var r=this.store[t];r&&(r.loading=!1,r.error=e)},t.prototype.markMutationResult=function(t){var e=this.store[t];e&&(e.loading=!1,e.error=null)},t.prototype.reset=function(){this.store={}},t}(),E=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(t){return this.store[t]},t.prototype.initQuery=function(t){var e=this.store[t.queryId];(0,y.kG)(!e||e.document===t.document||(0,l.D)(e.document,t.document),19);var r,o=!1,n=null;t.storePreviousVariables&&e&&e.networkStatus!==u.loading&&((0,l.D)(e.variables,t.variables)||(o=!0,n=e.variables)),r=o?u.setVariables:t.isPoll?u.poll:t.isRefetch?u.refetch:u.loading;var i=[];e&&e.graphQLErrors&&(i=e.graphQLErrors),this.store[t.queryId]={document:t.document,variables:t.variables,previousVariables:n,networkError:null,graphQLErrors:i,networkStatus:r,metadata:t.metadata},"string"==typeof t.fetchMoreForQueryId&&this.store[t.fetchMoreForQueryId]&&(this.store[t.fetchMoreForQueryId].networkStatus=u.fetchMore)},t.prototype.markQueryResult=function(t,e,r){this.store&&this.store[t]&&(this.store[t].networkError=null,this.store[t].graphQLErrors=m(e.errors)?e.errors:[],this.store[t].previousVariables=null,this.store[t].networkStatus=u.ready,"string"==typeof r&&this.store[r]&&(this.store[r].networkStatus=u.ready))},t.prototype.markQueryError=function(t,e,r){this.store&&this.store[t]&&(this.store[t].networkError=e,this.store[t].networkStatus=u.error,"string"==typeof r&&this.markQueryResultClient(r,!0))},t.prototype.markQueryResultClient=function(t,e){var r=this.store&&this.store[t];r&&(r.networkError=null,r.previousVariables=null,e&&(r.networkStatus=u.ready))},t.prototype.stopQuery=function(t){delete this.store[t]},t.prototype.reset=function(t){var e=this;Object.keys(this.store).forEach((function(r){t.indexOf(r)<0?e.stopQuery(r):e.store[r].networkStatus=u.loading}))},t}(),M=function(){function t(t){var e=t.cache,r=t.client,o=t.resolvers,n=t.fragmentMatcher;this.cache=e,r&&(this.client=r),o&&this.addResolvers(o),n&&this.setFragmentMatcher(n)}return t.prototype.addResolvers=function(t){var e=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach((function(t){e.resolvers=(0,c.Ee)(e.resolvers,t)})):this.resolvers=(0,c.Ee)(this.resolvers,t)},t.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(t){var e=t.document,r=t.remoteResult,o=t.context,n=t.variables,u=t.onlyRunForcedResolvers,c=void 0!==u&&u;return s(this,void 0,void 0,(function(){return a(this,(function(t){return e?[2,this.resolveDocument(e,r.data,o,n,this.fragmentMatcher,c).then((function(t){return i(i({},r),{data:t.result})}))]:[2,r]}))}))},t.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(t){return(0,c.FS)(["client"],t)&&this.resolvers?t:null},t.prototype.serverQuery=function(t){return this.resolvers?(0,c.ob)(t):t},t.prototype.prepareContext=function(t){void 0===t&&(t={});var e=this.cache;return i(i({},t),{cache:e,getCacheKey:function(t){if(e.config)return e.config.dataIdFromObject(t);(0,y.kG)(!1,6)}})},t.prototype.addExportedVariables=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),s(this,void 0,void 0,(function(){return a(this,(function(o){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,e)||{},this.prepareContext(r),e).then((function(t){return i(i({},e),t.exportedVariables)}))]:[2,i({},e)]}))}))},t.prototype.shouldForceResolvers=function(t){var e=!1;return(0,d.visit)(t,{Directive:{enter:function(t){if("client"===t.name.value&&t.arguments&&(e=t.arguments.some((function(t){return"always"===t.name.value&&"BooleanValue"===t.value.kind&&!0===t.value.value}))))return d.BREAK}}}),e},t.prototype.buildRootValueFromCache=function(t,e){return this.cache.diff({query:(0,c.aL)(t),variables:e,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(t,e,r,o,n,u){return void 0===r&&(r={}),void 0===o&&(o={}),void 0===n&&(n=function(){return!0}),void 0===u&&(u=!1),s(this,void 0,void 0,(function(){var s,l,h,p,f,y,d,v,b;return a(this,(function(a){var m;return s=(0,c.p$)(t),l=(0,c.kU)(t),h=(0,c.F)(l),p=s.operation,f=p?(m=p).charAt(0).toUpperCase()+m.slice(1):"Query",d=(y=this).cache,v=y.client,b={fragmentMap:h,context:i(i({},r),{cache:d,client:v}),variables:o,fragmentMatcher:n,defaultOperationType:f,exportedVariables:{},onlyRunForcedResolvers:u},[2,this.resolveSelectionSet(s.selectionSet,e,b).then((function(t){return{result:t,exportedVariables:b.exportedVariables}}))]}))}))},t.prototype.resolveSelectionSet=function(t,e,r){return s(this,void 0,void 0,(function(){var o,n,i,u,l,h=this;return a(this,(function(p){return o=r.fragmentMap,n=r.context,i=r.variables,u=[e],l=function(t){return s(h,void 0,void 0,(function(){var s,l;return a(this,(function(a){return(0,c.LZ)(t,i)?(0,c.My)(t)?[2,this.resolveField(t,e,r).then((function(e){var r;void 0!==e&&u.push(((r={})[(0,c.u2)(t)]=e,r))}))]:((0,c.Ao)(t)?s=t:(s=o[t.name.value],(0,y.kG)(s,7)),s&&s.typeCondition&&(l=s.typeCondition.name.value,r.fragmentMatcher(e,l,n))?[2,this.resolveSelectionSet(s.selectionSet,e,r).then((function(t){u.push(t)}))]:[2]):[2]}))}))},[2,Promise.all(t.selections.map(l)).then((function(){return(0,c.bw)(u)}))]}))}))},t.prototype.resolveField=function(t,e,r){return s(this,void 0,void 0,(function(){var o,n,i,s,u,l,h,p,f,y=this;return a(this,(function(a){return o=r.variables,n=t.name.value,i=(0,c.u2)(t),s=n!==i,u=e[i]||e[n],l=Promise.resolve(u),r.onlyRunForcedResolvers&&!this.shouldForceResolvers(t)||(h=e.__typename||r.defaultOperationType,(p=this.resolvers&&this.resolvers[h])&&(f=p[s?n:i])&&(l=Promise.resolve(f(e,(0,c.NC)(t,o),r.context,{field:t,fragmentMap:r.fragmentMap})))),[2,l.then((function(e){return void 0===e&&(e=u),t.directives&&t.directives.forEach((function(t){"export"===t.name.value&&t.arguments&&t.arguments.forEach((function(t){"as"===t.name.value&&"StringValue"===t.value.kind&&(r.exportedVariables[t.value.value]=e)}))})),t.selectionSet?null==e?e:Array.isArray(e)?y.resolveSubSelectedArray(t,e,r):t.selectionSet?y.resolveSelectionSet(t.selectionSet,e,r):void 0:e}))]}))}))},t.prototype.resolveSubSelectedArray=function(t,e,r){var o=this;return Promise.all(e.map((function(e){return null===e?null:Array.isArray(e)?o.resolveSubSelectedArray(t,e,r):t.selectionSet?o.resolveSelectionSet(t.selectionSet,e,r):void 0})))},t}();function I(t){var e=new Set,r=null;return new b((function(o){return e.add(o),r=r||t.subscribe({next:function(t){e.forEach((function(e){return e.next&&e.next(t)}))},error:function(t){e.forEach((function(e){return e.error&&e.error(t)}))},complete:function(){e.forEach((function(t){return t.complete&&t.complete()}))}}),function(){e.delete(o)&&!e.size&&r&&(r.unsubscribe(),r=null)}}))}var P=Object.prototype.hasOwnProperty,F=function(){function t(t){var e=t.link,r=t.queryDeduplication,o=void 0!==r&&r,n=t.store,i=t.onBroadcast,s=void 0===i?function(){}:i,a=t.ssrMode,u=void 0!==a&&a,l=t.clientAwareness,h=void 0===l?{}:l,p=t.localState,f=t.assumeImmutableResults;this.mutationStore=new R,this.queryStore=new E,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(c.mr?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=e,this.queryDeduplication=o,this.dataStore=n,this.onBroadcast=s,this.clientAwareness=h,this.localState=p||new M({cache:n.getCache()}),this.ssrMode=u,this.assumeImmutableResults=!!f}return t.prototype.stop=function(){var t=this;this.queries.forEach((function(e,r){t.stopQueryNoBroadcast(r)})),this.fetchQueryRejectFns.forEach((function(t){t(new y.ej(8))}))},t.prototype.mutate=function(t){var e=t.mutation,r=t.variables,o=t.optimisticResponse,n=t.updateQueries,u=t.refetchQueries,l=void 0===u?[]:u,h=t.awaitRefetchQueries,p=void 0!==h&&h,f=t.update,d=t.errorPolicy,v=void 0===d?"none":d,b=t.fetchPolicy,Q=t.context,w=void 0===Q?{}:Q;return s(this,void 0,void 0,(function(){var t,s,u,h=this;return a(this,(function(a){switch(a.label){case 0:return(0,y.kG)(e,9),(0,y.kG)(!b||"no-cache"===b,10),t=this.generateQueryId(),e=this.transform(e).document,this.setQuery(t,(function(){return{document:e}})),r=this.getVariables(e,r),this.transform(e).hasClientExports?[4,this.localState.addExportedVariables(e,r,w)]:[3,2];case 1:r=a.sent(),a.label=2;case 2:return s=function(){var t={};return n&&h.queries.forEach((function(e,r){var o=e.observableQuery;if(o){var i=o.queryName;i&&P.call(n,i)&&(t[r]={updater:n[i],query:h.queryStore.get(r)})}})),t},this.mutationStore.initMutation(t,e,r),this.dataStore.markMutationInit({mutationId:t,document:e,variables:r,updateQueries:s(),update:f,optimisticResponse:o}),this.broadcastQueries(),u=this,[2,new Promise((function(n,a){var h,y;u.getObservableFromLink(e,i(i({},w),{optimisticResponse:o}),r,!1).subscribe({next:function(o){(0,c.d2)(o)&&"none"===v?y=new g({graphQLErrors:o.errors}):(u.mutationStore.markMutationResult(t),"no-cache"!==b&&u.dataStore.markMutationResult({mutationId:t,result:o,document:e,variables:r,updateQueries:s(),update:f}),h=o)},error:function(e){u.mutationStore.markMutationError(t,e),u.dataStore.markMutationComplete({mutationId:t,optimisticResponse:o}),u.broadcastQueries(),u.setQuery(t,(function(){return{document:null}})),a(new g({networkError:e}))},complete:function(){if(y&&u.mutationStore.markMutationError(t,y),u.dataStore.markMutationComplete({mutationId:t,optimisticResponse:o}),u.broadcastQueries(),y)a(y);else{"function"==typeof l&&(l=l(h));var e=[];m(l)&&l.forEach((function(t){if("string"==typeof t)u.queries.forEach((function(r){var o=r.observableQuery;o&&o.queryName===t&&e.push(o.refetch())}));else{var r={query:t.query,variables:t.variables,fetchPolicy:"network-only"};t.context&&(r.context=t.context),e.push(u.query(r))}})),Promise.all(p?e:[]).then((function(){u.setQuery(t,(function(){return{document:null}})),"ignore"===v&&h&&(0,c.d2)(h)&&delete h.errors,n(h)}))}}})}))]}}))}))},t.prototype.fetchQuery=function(t,e,r,o){return s(this,void 0,void 0,(function(){var n,s,u,l,h,p,f,y,d,v,b,m,w,S,k,q,R,E,M=this;return a(this,(function(a){switch(a.label){case 0:return n=e.metadata,s=void 0===n?null:n,u=e.fetchPolicy,l=void 0===u?"cache-first":u,h=e.context,p=void 0===h?{}:h,f=this.transform(e.query).document,y=this.getVariables(f,e.variables),this.transform(f).hasClientExports?[4,this.localState.addExportedVariables(f,y,p)]:[3,2];case 1:y=a.sent(),a.label=2;case 2:if(e=i(i({},e),{variables:y}),b=v="network-only"===l||"no-cache"===l,v||(m=this.dataStore.getCache().diff({query:f,variables:y,returnPartialData:!0,optimistic:!1}),w=m.complete,S=m.result,b=!w||"cache-and-network"===l,d=S),k=b&&"cache-only"!==l&&"standby"!==l,(0,c.FS)(["live"],f)&&(k=!0),q=this.idCounter++,R="no-cache"!==l?this.updateQueryWatch(t,f,e):void 0,this.setQuery(t,(function(){return{document:f,lastRequestId:q,invalidated:!0,cancel:R}})),this.invalidate(o),this.queryStore.initQuery({queryId:t,document:f,storePreviousVariables:k,variables:y,isPoll:r===Q.poll,isRefetch:r===Q.refetch,metadata:s,fetchMoreForQueryId:o}),this.broadcastQueries(),k){if(E=this.fetchRequest({requestId:q,queryId:t,document:f,options:e,fetchMoreForQueryId:o}).catch((function(e){throw e.hasOwnProperty("graphQLErrors")?e:(q>=M.getQuery(t).lastRequestId&&(M.queryStore.markQueryError(t,e,o),M.invalidate(t),M.invalidate(o),M.broadcastQueries()),new g({networkError:e}))})),"cache-and-network"!==l)return[2,E];E.catch((function(){}))}return this.queryStore.markQueryResultClient(t,!k),this.invalidate(t),this.invalidate(o),this.transform(f).hasForcedResolvers?[2,this.localState.runResolvers({document:f,remoteResult:{data:d},context:p,variables:y,onlyRunForcedResolvers:!0}).then((function(r){return M.markQueryResult(t,r,e,o),M.broadcastQueries(),r}))]:(this.broadcastQueries(),[2,{data:d}])}}))}))},t.prototype.markQueryResult=function(t,e,r,o){var n=r.fetchPolicy,i=r.variables,s=r.errorPolicy;"no-cache"===n?this.setQuery(t,(function(){return{newData:{result:e.data,complete:!0}}})):this.dataStore.markQueryResult(e,this.getQuery(t).document,i,o,"ignore"===s||"all"===s)},t.prototype.queryListenerForObserver=function(t,e,r){var o=this;function n(t,e){if(r[t])try{r[t](e)}catch(t){}}return function(r,i){if(o.invalidate(t,!1),r){var s=o.getQuery(t),a=s.observableQuery,u=s.document,c=a?a.options.fetchPolicy:e.fetchPolicy;if("standby"!==c){var l=v(r.networkStatus),h=a&&a.getLastResult(),p=!(!h||h.networkStatus===r.networkStatus),f=e.returnPartialData||!i&&r.previousVariables||p&&e.notifyOnNetworkStatusChange||"cache-only"===c||"cache-and-network"===c;if(!l||f){var y=m(r.graphQLErrors),d=a&&a.options.errorPolicy||e.errorPolicy||"none";if("none"===d&&y||r.networkError)return n("error",new g({graphQLErrors:r.graphQLErrors,networkError:r.networkError}));try{var b=void 0,Q=void 0;if(i)"no-cache"!==c&&"network-only"!==c&&o.setQuery(t,(function(){return{newData:null}})),b=i.result,Q=!i.complete;else{var w=a&&a.getLastError(),S="none"!==d&&(w&&w.graphQLErrors)!==r.graphQLErrors;if(h&&h.data&&!S)b=h.data,Q=!1;else{var k=o.dataStore.getCache().diff({query:u,variables:r.previousVariables||r.variables,returnPartialData:!0,optimistic:!0});b=k.result,Q=!k.complete}}var q=Q&&!(e.returnPartialData||"cache-only"===c),R={data:q?h&&h.data:b,loading:l,networkStatus:r.networkStatus,stale:q};"all"===d&&y&&(R.errors=r.graphQLErrors),n("next",R)}catch(t){n("error",new g({networkError:t}))}}}}}},t.prototype.transform=function(t){var e=this.transformCache;if(!e.has(t)){var r=this.dataStore.getCache(),o=r.transformDocument(t),n=(0,c.Fo)(r.transformForLink(o)),i=this.localState.clientQuery(o),s=this.localState.serverQuery(n),a={document:o,hasClientExports:(0,c.mj)(o),hasForcedResolvers:this.localState.shouldForceResolvers(o),clientQuery:i,serverQuery:s,defaultVars:(0,c.O4)((0,c.$H)(o))},u=function(t){t&&!e.has(t)&&e.set(t,a)};u(t),u(o),u(i),u(s)}return e.get(t)},t.prototype.getVariables=function(t,e){return i(i({},this.transform(t).defaultVars),e)},t.prototype.watchQuery=function(t,e){void 0===e&&(e=!0),(0,y.kG)("standby"!==t.fetchPolicy,11),t.variables=this.getVariables(t.query,t.variables),void 0===t.notifyOnNetworkStatusChange&&(t.notifyOnNetworkStatusChange=!1);var r=i({},t);return new w({queryManager:this,options:r,shouldSubscribe:e})},t.prototype.query=function(t){var e=this;return(0,y.kG)(t.query,12),(0,y.kG)("Document"===t.query.kind,13),(0,y.kG)(!t.returnPartialData,14),(0,y.kG)(!t.pollInterval,15),new Promise((function(r,o){var n=e.watchQuery(t,!1);e.fetchQueryRejectFns.set("query:"+n.queryId,o),n.result().then(r,o).then((function(){return e.fetchQueryRejectFns.delete("query:"+n.queryId)}))}))},t.prototype.generateQueryId=function(){return String(this.idCounter++)},t.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(t){this.stopPollingQuery(t),this.queryStore.stopQuery(t),this.invalidate(t)},t.prototype.addQueryListener=function(t,e){this.setQuery(t,(function(t){return t.listeners.add(e),{invalidated:!1}}))},t.prototype.updateQueryWatch=function(t,e,r){var o=this,n=this.getQuery(t).cancel;return n&&n(),this.dataStore.getCache().watch({query:e,variables:r.variables,optimistic:!0,previousResult:function(){var e=null,r=o.getQuery(t).observableQuery;if(r){var n=r.getLastResult();n&&(e=n.data)}return e},callback:function(e){o.setQuery(t,(function(){return{invalidated:!0,newData:e}}))}})},t.prototype.addObservableQuery=function(t,e){this.setQuery(t,(function(){return{observableQuery:e}}))},t.prototype.removeObservableQuery=function(t){var e=this.getQuery(t).cancel;this.setQuery(t,(function(){return{observableQuery:null}})),e&&e()},t.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach((function(t){t(new y.ej(16))}));var t=[];return this.queries.forEach((function(e,r){e.observableQuery&&t.push(r)})),this.queryStore.reset(t),this.mutationStore.reset(),this.dataStore.reset()},t.prototype.resetStore=function(){var t=this;return this.clearStore().then((function(){return t.reFetchObservableQueries()}))},t.prototype.reFetchObservableQueries=function(t){var e=this;void 0===t&&(t=!1);var r=[];return this.queries.forEach((function(o,n){var i=o.observableQuery;if(i){var s=i.options.fetchPolicy;i.resetLastResults(),"cache-only"===s||!t&&"standby"===s||r.push(i.refetch()),e.setQuery(n,(function(){return{newData:null}})),e.invalidate(n)}})),this.broadcastQueries(),Promise.all(r)},t.prototype.observeQuery=function(t,e,r){return this.addQueryListener(t,this.queryListenerForObserver(t,e,r)),this.fetchQuery(t,e)},t.prototype.startQuery=function(t,e,r){return this.addQueryListener(t,r),this.fetchQuery(t,e).catch((function(){})),t},t.prototype.startGraphQLSubscription=function(t){var e=this,r=t.query,o=t.fetchPolicy,n=t.variables;r=this.transform(r).document,n=this.getVariables(r,n);var i=function(t){return e.getObservableFromLink(r,{},t,!1).map((function(n){if(o&&"no-cache"===o||(e.dataStore.markSubscriptionResult(n,r,t),e.broadcastQueries()),(0,c.d2)(n))throw new g({graphQLErrors:n.errors});return n}))};if(this.transform(r).hasClientExports){var s=this.localState.addExportedVariables(r,n).then(i);return new b((function(t){var e=null;return s.then((function(r){return e=r.subscribe(t)}),t.error),function(){return e&&e.unsubscribe()}}))}return i(n)},t.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},t.prototype.removeQuery=function(t){this.fetchQueryRejectFns.delete("query:"+t),this.fetchQueryRejectFns.delete("fetchRequest:"+t),this.getQuery(t).subscriptions.forEach((function(t){return t.unsubscribe()})),this.queries.delete(t)},t.prototype.getCurrentQueryResult=function(t,e){void 0===e&&(e=!0);var r=t.options,o=r.variables,n=r.query,i=r.fetchPolicy,s=r.returnPartialData,a=t.getLastResult(),u=this.getQuery(t.queryId).newData;if(u&&u.complete)return{data:u.result,partial:!1};if("no-cache"===i||"network-only"===i)return{data:void 0,partial:!1};var c=this.dataStore.getCache().diff({query:n,variables:o,previousResult:a?a.data:void 0,returnPartialData:!0,optimistic:e}),l=c.result,h=c.complete;return{data:h||s?l:void 0,partial:!h}},t.prototype.getQueryWithPreviousResult=function(t){var e;if("string"==typeof t){var r=this.getQuery(t).observableQuery;(0,y.kG)(r,17),e=r}else e=t;var o=e.options,n=o.variables,i=o.query;return{previousResult:this.getCurrentQueryResult(e,!1).data,variables:n,document:i}},t.prototype.broadcastQueries=function(){var t=this;this.onBroadcast(),this.queries.forEach((function(e,r){e.invalidated&&e.listeners.forEach((function(o){o&&o(t.queryStore.get(r),e.newData)}))}))},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(t,e,r,o){var n,s=this;void 0===o&&(o=this.queryDeduplication);var a=this.transform(t).serverQuery;if(a){var u=this.inFlightLinkObservables,l=this.link,p={query:a,variables:r,operationName:(0,c.rY)(a)||void 0,context:this.prepareContext(i(i({},e),{forceFetch:!o}))};if(e=p.context,o){var f=u.get(a)||new Map;u.set(a,f);var y=JSON.stringify(r);if(!(n=f.get(y))){f.set(y,n=I((0,h.ht)(l,p)));var d=function(){f.delete(y),f.size||u.delete(a),v.unsubscribe()},v=n.subscribe({next:d,error:d,complete:d})}}else n=I((0,h.ht)(l,p))}else n=b.of({data:{}}),e=this.prepareContext(e);var m=this.transform(t).clientQuery;return m&&(n=function(t,o){return new b((function(o){var n=o.next,i=o.error,a=o.complete,u=0,c=!1,l={next:function(t){++u,new Promise((function(o){var n;o((n=t,s.localState.runResolvers({document:m,remoteResult:n,context:e,variables:r})))})).then((function(t){--u,n&&n.call(o,t),c&&l.complete()}),(function(t){--u,i&&i.call(o,t)}))},error:function(t){i&&i.call(o,t)},complete:function(){c=!0,u||a&&a.call(o)}},h=t.subscribe(l);return function(){return h.unsubscribe()}}))}(n)),n},t.prototype.fetchRequest=function(t){var e,r,o=this,n=t.requestId,i=t.queryId,s=t.document,a=t.options,c=t.fetchMoreForQueryId,l=a.variables,h=a.errorPolicy,p=void 0===h?"none":h,f=a.fetchPolicy;return new Promise((function(t,h){var y=o.getObservableFromLink(s,a.context,l),d="fetchRequest:"+i;o.fetchQueryRejectFns.set(d,h);var v=function(){o.fetchQueryRejectFns.delete(d),o.setQuery(i,(function(t){t.subscriptions.delete(b)}))},b=y.map((function(t){if(n>=o.getQuery(i).lastRequestId&&(o.markQueryResult(i,t,a,c),o.queryStore.markQueryResult(i,t,c),o.invalidate(i),o.invalidate(c),o.broadcastQueries()),"none"===p&&m(t.errors))return h(new g({graphQLErrors:t.errors}));if("all"===p&&(r=t.errors),c||"no-cache"===f)e=t.data;else{var u=o.dataStore.getCache().diff({variables:l,query:s,optimistic:!1,returnPartialData:!0}),y=u.result;(u.complete||a.returnPartialData)&&(e=y)}})).subscribe({error:function(t){v(),h(t)},complete:function(){v(),t({data:e,errors:r,loading:!1,networkStatus:u.ready,stale:!1})}});o.setQuery(i,(function(t){t.subscriptions.add(b)}))}))},t.prototype.getQuery=function(t){return this.queries.get(t)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},t.prototype.setQuery=function(t,e){var r=this.getQuery(t),o=i(i({},r),e(r));this.queries.set(t,o)},t.prototype.invalidate=function(t,e){void 0===e&&(e=!0),t&&this.setQuery(t,(function(){return{invalidated:e}}))},t.prototype.prepareContext=function(t){void 0===t&&(t={});var e=this.localState.prepareContext(t);return i(i({},e),{clientAwareness:this.clientAwareness})},t.prototype.checkInFlight=function(t){var e=this.queryStore.get(t);return e&&e.networkStatus!==u.ready&&e.networkStatus!==u.error},t.prototype.startPollingQuery=function(t,e,r){var o=this,n=t.pollInterval;if((0,y.kG)(n,18),!this.ssrMode){var s=this.pollingInfoByQueryId.get(e);s||this.pollingInfoByQueryId.set(e,s={}),s.interval=n,s.options=i(i({},t),{fetchPolicy:"network-only"});var a=function(){var t=o.pollingInfoByQueryId.get(e);t&&(o.checkInFlight(e)?u():o.fetchQuery(e,t.options,Q.poll).then(u,u))},u=function(){var t=o.pollingInfoByQueryId.get(e);t&&(clearTimeout(t.timeout),t.timeout=setTimeout(a,t.interval))};r&&this.addQueryListener(e,r),u()}return e},t.prototype.stopPollingQuery=function(t){this.pollingInfoByQueryId.delete(t)},t}(),O=function(){function t(t){this.cache=t}return t.prototype.getCache=function(){return this.cache},t.prototype.markQueryResult=function(t,e,r,o,n){void 0===n&&(n=!1);var i=!(0,c.d2)(t);n&&(0,c.d2)(t)&&t.data&&(i=!0),!o&&i&&this.cache.write({result:t.data,dataId:"ROOT_QUERY",query:e,variables:r})},t.prototype.markSubscriptionResult=function(t,e,r){(0,c.d2)(t)||this.cache.write({result:t.data,dataId:"ROOT_SUBSCRIPTION",query:e,variables:r})},t.prototype.markMutationInit=function(t){var e,r=this;t.optimisticResponse&&(e="function"==typeof t.optimisticResponse?t.optimisticResponse(t.variables):t.optimisticResponse,this.cache.recordOptimisticTransaction((function(o){var n=r.cache;r.cache=o;try{r.markMutationResult({mutationId:t.mutationId,result:{data:e},document:t.document,variables:t.variables,updateQueries:t.updateQueries,update:t.update})}finally{r.cache=n}}),t.mutationId))},t.prototype.markMutationResult=function(t){var e=this;if(!(0,c.d2)(t.result)){var r=[{result:t.result.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}],o=t.updateQueries;o&&Object.keys(o).forEach((function(n){var i=o[n],s=i.query,a=i.updater,u=e.cache.diff({query:s.document,variables:s.variables,returnPartialData:!0,optimistic:!1}),l=u.result;if(u.complete){var h=(0,c.XY)((function(){return a(l,{mutationResult:t.result,queryName:(0,c.rY)(s.document)||void 0,queryVariables:s.variables})}));h&&r.push({result:h,dataId:"ROOT_QUERY",query:s.document,variables:s.variables})}})),this.cache.performTransaction((function(e){r.forEach((function(t){return e.write(t)}));var o=t.update;o&&(0,c.XY)((function(){return o(e,t.result)}))}))}},t.prototype.markMutationComplete=function(t){var e=t.mutationId;t.optimisticResponse&&this.cache.removeOptimistic(e)},t.prototype.markUpdateQueryResult=function(t,e,r){this.cache.write({result:r,dataId:"ROOT_QUERY",variables:e,query:t})},t.prototype.reset=function(){return this.cache.reset()},t}();const L=function(){function t(t){var e=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=t.cache,o=t.ssrMode,n=void 0!==o&&o,i=t.ssrForceFetchDelay,s=void 0===i?0:i,a=t.connectToDevTools,u=t.queryDeduplication,c=void 0===u||u,l=t.defaultOptions,p=t.assumeImmutableResults,f=void 0!==p&&p,d=t.resolvers,v=t.typeDefs,b=t.fragmentMatcher,m=t.name,Q=t.version,g=t.link;if(!g&&d&&(g=h.i0.empty()),!g||!r)throw new y.ej(4);this.link=g,this.cache=r,this.store=new O(r),this.disableNetworkFetches=n||s>0,this.queryDeduplication=c,this.defaultOptions=l||{},this.typeDefs=v,s&&setTimeout((function(){return e.disableNetworkFetches=!1}),s),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),void 0!==a&&a&&"undefined"!=typeof window&&(window.__APOLLO_CLIENT__=this),this.version="2.6.10",this.localState=new M({cache:r,client:this,resolvers:d,fragmentMatcher:b}),this.queryManager=new F({link:this.link,store:this.store,queryDeduplication:c,ssrMode:n,clientAwareness:{name:m,version:Q},localState:this.localState,assumeImmutableResults:f,onBroadcast:function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager.queryStore.getStore(),mutations:e.queryManager.mutationStore.getStore()},dataWithOptimisticResults:e.cache.extract(!0)})}})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=i(i({},this.defaultOptions.watchQuery),t)),!this.disableNetworkFetches||"network-only"!==t.fetchPolicy&&"cache-and-network"!==t.fetchPolicy||(t=i(i({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},t.prototype.query=function(t){return this.defaultOptions.query&&(t=i(i({},this.defaultOptions.query),t)),(0,y.kG)("cache-and-network"!==t.fetchPolicy,5),this.disableNetworkFetches&&"network-only"===t.fetchPolicy&&(t=i(i({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},t.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=i(i({},this.defaultOptions.mutate),t)),this.queryManager.mutate(t)},t.prototype.subscribe=function(t){return this.queryManager.startGraphQLSubscription(t)},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!1),this.cache.readQuery(t,e)},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!1),this.cache.readFragment(t,e)},t.prototype.writeQuery=function(t){var e=this.cache.writeQuery(t);return this.queryManager.broadcastQueries(),e},t.prototype.writeFragment=function(t){var e=this.cache.writeFragment(t);return this.queryManager.broadcastQueries(),e},t.prototype.writeData=function(t){var e=this.cache.writeData(t);return this.queryManager.broadcastQueries(),e},t.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},t.prototype.__requestRaw=function(t){return(0,h.ht)(this.link,t)},t.prototype.initQueryManager=function(){return this.queryManager},t.prototype.resetStore=function(){var t=this;return Promise.resolve().then((function(){return t.queryManager.clearStore()})).then((function(){return Promise.all(t.resetStoreCallbacks.map((function(t){return t()})))})).then((function(){return t.reFetchObservableQueries()}))},t.prototype.clearStore=function(){var t=this;return Promise.resolve().then((function(){return t.queryManager.clearStore()})).then((function(){return Promise.all(t.clearStoreCallbacks.map((function(t){return t()})))}))},t.prototype.onResetStore=function(t){var e=this;return this.resetStoreCallbacks.push(t),function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter((function(e){return e!==t}))}},t.prototype.onClearStore=function(t){var e=this;return this.clearStoreCallbacks.push(t),function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter((function(e){return e!==t}))}},t.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},t.prototype.extract=function(t){return this.cache.extract(t)},t.prototype.restore=function(t){return this.cache.restore(t)},t.prototype.addResolvers=function(t){this.localState.addResolvers(t)},t.prototype.setResolvers=function(t){this.localState.setResolvers(t)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},t}()}}]);
//# sourceMappingURL=npm.apollo-client.fd5647aa181e29ae7e67.js.map